<!DOCTYPE html>
<meta charset="utf-8">

<html>
  <body> 
    <script src="http://d3js.org/d3.v2.min.js?2.10.1"></script>
    <script> 
      var width = 960, height = 500;
      var gameBoard = d3.select("body").append('svg')/*.attr("height",height).attr("width", width);*/
      var enemiesData = [];
      var createEnemies = function(n){
      for (var i = 0; i < n; i++){ //creating enemies with random coordinates
        var enemyObj = {
          x: Math.floor(Math.random() * 800),
          y: Math.floor(Math.random() * 500),
          r: 10,
          id:i
        };
        enemiesData.push(enemyObj); // add individual enemy object to enemiesArr
      }
    };

    var render = function(enemiesData){
    enemies.enter().append('svg:circle').attr('class', 'enemy').attr('cx', function(enemy){return enemy.x}).attr('cy', function(enemy){ return enemy.y; }).attr('r', function(enemy){ return enemy.r; });
    };

    var animateEnemies = function(){
      enemies.transition().duration(1000).attr("cx", function(d) { return Math.random()*800;}).attr('cy', function(d){return Math.random()*500;});
    };

    createEnemies(36);
    var enemies = gameBoard.selectAll('enemy').data(enemiesData, function(enemy){return enemy.id});
    render(enemiesData);

    setInterval(function(){ animateEnemies();}, 1000);


// Player creation and player methods
  var playerChar = [{
    fill: '#ff6600',
    id: player,
    x: Math.random()*800,
    y: Math.random()*500,
    r: 10
    }];

  var player = gameBoard.selectAll('player').data(playerChar, function(player) {return player.id});
  var renderPlayer = function(playerChar){
    player.enter().append('svg:circle').attr('class', 'player').attr('cx', function(player){ return player.x}).attr('cy', function(player){return player.y}).attr('r', function(player){return player.r}).attr('fill', function(player){ return player.fill});
  };
  renderPlayer(playerChar);









    </script>
  </body>
</html>
